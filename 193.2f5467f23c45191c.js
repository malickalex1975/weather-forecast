"use strict";(self.webpackChunkweather_forecast=self.webpackChunkweather_forecast||[]).push([[193],{2229:(J,f,s)=>{s.d(f,{O:()=>d});var p=s(9646),a=s(4854),m=s(4650),g=s(529);class d{constructor(u){this.http=u}getPlaces(u){return this.http.get(a.Em+`?q=${u}&limit=5&appid=${a.$h}`)}getCurrentWeather(u,t,Z="metric",_="en"){return this.http.get(a.LX+`lat=${u}&lon=${t}&appid=${a.$h}&units=${Z}&lang=${_}`)}getCurrentPollution(u,t){return u&&t?this.http.get(a.X8+`lat=${u}&lon=${t}&appid=${a.$h}`):(0,p.of)([])}getPollutionForecast(u,t){return u&&t?this.http.get(a.PR+`lat=${u}&lon=${t}&appid=${a.$h}`):(0,p.of)([])}getForecast(u,t,Z="metric",_="en"){return this.http.get(a.LU+`lat=${u}&lon=${t}&appid=${a.$h}&units=${Z}&lang=${_}`)}static#t=this.\u0275fac=function(t){return new(t||d)(m.LFG(g.eN))};static#e=this.\u0275prov=m.Yz7({token:d,factory:d.\u0275fac,providedIn:"root"})}},6193:(J,f,s)=>{s.r(f),s.d(f,{MainModule:()=>j});var p=s(6895),a=s(9197),m=s(9327),g=s(3900),d=s(9646);const E=[{id:1,firstName:"Alexander",secondName:"Malchevsky",photoURL:"https://avatars.githubusercontent.com/u/91604689?v=4",git:"https://github.com/malickalex1975",features:[],alt:"",aboutAuthor:"Hello! A little about myself, I have three passions: traveling, cars and programming. The third passion is the strongest. I love coding, and no matter what project it is, the final task for Angular or some ordinary one, no matter what language it is, Java Script or Python, I just love it and give it my all."}],u=[{id:1,firstName:"\u0410\u043b\u0435\u043a\u0441\u0430\u043d\u0434\u0440",secondName:"\u041c\u0430\u043b\u044c\u0447\u0435\u0432\u0441\u043a\u0438\u0439",photoURL:"https://avatars.githubusercontent.com/u/91604689?v=4",git:"https://github.com/malickalex1975",features:[],alt:"",aboutAuthor:"\u041f\u0440\u0438\u0432\u0435\u0442! \u041d\u0435\u043c\u043d\u043e\u0433\u043e \u043e \u0441\u0435\u0431\u0435, \u0443 \u043c\u0435\u043d\u044f \u0442\u0440\u0438 \u0441\u0442\u0440\u0430\u0441\u0442\u0438: \u043f\u0443\u0442\u0435\u0448\u0435\u0441\u0442\u0432\u0438\u044f, \u0430\u0432\u0442\u043e\u043c\u043e\u0431\u0438\u043b\u0438 \u0438 \u043f\u0440\u043e\u0433\u0440\u0430\u043c\u043c\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u0435. \u0422\u0440\u0435\u0442\u044c\u044f \u0441\u0442\u0440\u0430\u0441\u0442\u044c \u0441\u0430\u043c\u0430\u044f \u0441\u0438\u043b\u044c\u043d\u0430\u044f. \u042f \u043e\u0431\u043e\u0436\u0430\u044e \u043a\u043e\u0434\u0438\u0442\u044c, \u0438 \u043d\u0435 \u0432\u0430\u0436\u043d\u043e \u043a\u0430\u043a\u043e\u0439 \u044d\u0442\u043e \u043f\u0440\u043e\u0435\u043a\u0442, \u0444\u0438\u043d\u0430\u043b\u044c\u043d\u044b\u0439 \u0442\u0430\u0441\u043a \u043f\u043e \u0410\u043d\u0433\u0443\u043b\u044f\u0440 \u0438\u043b\u0438 \u043a\u0430\u043a\u043e\u0439-\u0442\u043e \u0440\u044f\u0434\u043e\u0432\u043e\u0439, \u043d\u0435 \u0432\u0430\u0436\u043d\u043e \u043a\u0430\u043a\u043e\u0439 \u044d\u0442\u043e \u044f\u0437\u044b\u043a, Java Script \u0438\u043b\u0438 Python, \u044f \u043f\u0440\u043e\u0441\u0442\u043e \u043b\u044e\u0431\u043b\u044e \u044d\u0442\u043e \u0438 \u043e\u0442\u0434\u0430\u044e \u044d\u0442\u043e\u043c\u0443 \u0432\u0441\u0435\u0433\u043e \u0441\u0435\u0431\u044f."}];var t=s(4650),Z=s(7524),_=s(7392),Y=s(3546);function G(r,n){if(1&r&&(t.TgZ(0,"ul")(1,"li"),t._uU(2),t.qZA()()),2&r){const e=n.$implicit;t.xp6(2),t.Oqu(e)}}class A{constructor(){this.index=0}ngOnInit(){}static#t=this.\u0275fac=function(e){return new(e||A)};static#e=this.\u0275cmp=t.Xpm({type:A,selectors:[["app-developer"]],inputs:{index:"index",developer:"developer"},decls:12,vars:8,consts:[[1,"developer-card"],[1,"developer-picture",3,"src","alt"],[1,"text-container"],["target","_blank",3,"href"],[4,"ngFor","ngForOf"]],template:function(e,i){1&e&&(t.TgZ(0,"section",0),t._UZ(1,"img",1),t.TgZ(2,"div",2)(3,"mat-card-header")(4,"mat-card-title"),t._uU(5),t.qZA(),t.TgZ(6,"a",3),t._uU(7),t.qZA()(),t.TgZ(8,"mat-card-content")(9,"p"),t._uU(10),t.qZA(),t.YNc(11,G,3,1,"ul",4),t.qZA()()()),2&e&&(t.xp6(1),t.Q6J("src",null==i.developer?null:i.developer.photoURL,t.LSH)("alt",null==i.developer?null:i.developer.alt),t.xp6(4),t.AsE(" ",null==i.developer?null:i.developer.firstName," ",null==i.developer?null:i.developer.secondName," "),t.xp6(1),t.Q6J("href",null==i.developer?null:i.developer.git,t.LSH),t.xp6(1),t.Oqu(null==i.developer?null:i.developer.git),t.xp6(3),t.Oqu(null==i.developer?null:i.developer.aboutAuthor),t.xp6(1),t.Q6J("ngForOf",null==i.developer?null:i.developer.features))},dependencies:[p.sg,Y.dn,Y.dk,Y.n5],styles:[".developer-card[_ngcontent-%COMP%]{margin-left:auto;margin-right:auto;display:flex;flex-direction:column;align-items:center;justify-content:center;min-width:320px;gap:10px;margin-top:50px}.developer-picture[_ngcontent-%COMP%]{position:relative;width:260px;height:260px;border-radius:50%;background-color:#fff;border:5px solid rgba(255,255,255,.1);box-sizing:content-box}.text-container[_ngcontent-%COMP%]{width:80vw;height:-moz-fit-content;height:fit-content;background-color:#cceeffb3;line-height:2rem;padding:10px;text-align:center;border-radius:5px;border:5px solid rgba(255,255,255,.7)}"]})}var x=s(9066);function X(r,n){if(1&r&&t._UZ(0,"app-developer",4),2&r){const i=n.index;t.Q6J("developer",n.$implicit)("index",i)}}s(3290);class T{constructor(n){this.langService=n,this.developers$=this.getCurrentDeveloper(),this.navigator=navigator}ngOnInit(){window.scrollTo(0,0)}getCurrentDeveloper(){return this.langService.getLang().pipe((0,g.w)(n=>(0,d.of)("ru"===n?u:E)))}goBack(){window.history.back()}static#t=this.\u0275fac=function(e){return new(e||T)(t.Y36(Z.T))};static#e=this.\u0275cmp=t.Xpm({type:T,selectors:[["app-about"]],decls:10,vars:6,consts:[[1,"cards-wrapper"],[1,"cards-container"],["class","card",3,"developer","index",4,"ngFor","ngForOf"],[1,"to-app",3,"click"],[1,"card",3,"developer","index"]],template:function(e,i){1&e&&(t.TgZ(0,"section",0)(1,"section",1),t.YNc(2,X,1,2,"app-developer",2),t.ALo(3,"async"),t.qZA(),t.TgZ(4,"div",3),t.NdJ("click",function(){return i.goBack()}),t.TgZ(5,"mat-icon"),t._uU(6,"arrow_back"),t.qZA(),t.TgZ(7,"p"),t._uU(8),t.ALo(9,"translate"),t.qZA()()()),2&e&&(t.xp6(2),t.Q6J("ngForOf",t.lcZ(3,2,i.developers$)),t.xp6(6),t.Oqu(t.lcZ(9,4,"Go back")))},dependencies:[p.sg,_.Hw,A,p.Ov,x.X$],styles:[".to-app[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;margin:20px auto 100px;width:280px;padding:10px;cursor:pointer;opacity:.7;color:#4c6df0}.to-app[_ngcontent-%COMP%]:hover{opacity:1;background-color:#cef;box-shadow:1px 1px 5px #646464;transition:.2s}.to-app[_ngcontent-%COMP%]:active{background-color:#fff}"]})}var R=s(3703);class ${constructor(n,e){this.router=n,this.startService=e}ngOnInit(){setTimeout(()=>{this.router.navigate(["./start"]),this.startService.resetStarted()},3e3)}static#t=this.\u0275fac=function(e){return new(e||$)(t.Y36(a.F0),t.Y36(R.D))};static#e=this.\u0275cmp=t.Xpm({type:$,selectors:[["app-deny-page"]],decls:4,vars:3,consts:[[1,"container"]],template:function(e,i){1&e&&(t.TgZ(0,"div",0)(1,"p"),t._uU(2),t.ALo(3,"translate"),t.qZA()()),2&e&&(t.xp6(2),t.hij(" ",t.lcZ(3,1,"Access denied"),""))},dependencies:[x.X$],styles:[".container[_ngcontent-%COMP%]{padding:20px;width:100vw;height:100vh;display:flex;align-items:center;justify-content:center;font-size:50px;color:#4c6df0}"]})}class L{static#t=this.\u0275fac=function(e){return new(e||L)};static#e=this.\u0275cmp=t.Xpm({type:L,selectors:[["app-not-found"]],decls:4,vars:3,consts:[[1,"container"]],template:function(e,i){1&e&&(t.TgZ(0,"div",0)(1,"p"),t._uU(2),t.ALo(3,"translate"),t.qZA()()),2&e&&(t.xp6(2),t.hij("404: ",t.lcZ(3,1,"Page is not found"),""))},dependencies:[x.X$],styles:[".container[_ngcontent-%COMP%]{width:100vw;height:100vh;display:flex;align-items:center;justify-content:center;font-size:50px;color:#4c6df0}"]})}var K=s(5963),C=s(1135),c=s(4854),w=s(2323);class y{constructor(n){this.storage=n,this.attempts=0,this.currentCoords$$=new C.X({lat:0,lon:0}),this.isUsedCurrent$$=new C.X(JSON.parse(this.storage.getItem(c.K8)||"true"))}defineCurrentLocation(){let n=0,e=0;navigator.geolocation.getCurrentPosition(o=>{this.attempts=0,n=o?.coords?.latitude,e=o?.coords?.longitude,this.currentCoords$$.next({lat:Number(n.toFixed(6)),lon:Number(e.toFixed(6))})},o=>{console.log(o.message),this.attempts<50&&setTimeout(()=>{this.attempts++,this.defineCurrentLocation()},10)},{timeout:2e3})}getCoords(){return this.currentCoords$$}setUsedCurrent(n){this.isUsedCurrent$$.next(n),this.storage.setItem(c.K8,JSON.stringify(n))}getUsedCurrent(){return this.isUsedCurrent$$}static#t=this.\u0275fac=function(e){return new(e||y)(t.LFG(w.V))};static#e=this.\u0275prov=t.Yz7({token:y,factory:y.\u0275fac,providedIn:"root"})}class q{constructor(n,e,i){this.startService=n,this.router=e,this.getCurrentPlace=i,this.number$=(0,K.H)(0,1e3)}ngOnInit(){this.getCurrentPlace.defineCurrentLocation(),this.timeout=setTimeout(()=>{this.start()},1e4)}start(){this.startService.setStarted(),this.router.navigate(["../"]),clearTimeout(this.timeout)}static#t=this.\u0275fac=function(e){return new(e||q)(t.Y36(R.D),t.Y36(a.F0),t.Y36(y))};static#e=this.\u0275cmp=t.Xpm({type:q,selectors:[["app-start-page"]],decls:14,vars:12,consts:[[1,"container"],[1,"intro"],[1,"title",3,"click"],[1,"start-button",3,"click"]],template:function(e,i){1&e&&(t.TgZ(0,"div",0)(1,"div",1)(2,"h1",2),t.NdJ("click",function(){return i.start()}),t._uU(3,"WeatherCock"),t.qZA(),t.TgZ(4,"p"),t._uU(5),t.ALo(6,"translate"),t.qZA(),t.TgZ(7,"p"),t._uU(8),t.ALo(9,"translate"),t.qZA()(),t.TgZ(10,"div",3),t.NdJ("click",function(){return i.start()}),t._uU(11),t.ALo(12,"translate"),t.ALo(13,"async"),t.qZA()()),2&e&&(t.xp6(5),t.Oqu(t.lcZ(6,4,"Welcome to the App")),t.xp6(3),t.Oqu(t.lcZ(9,6,"I hope you will like my weather forecast service")),t.xp6(3),t.AsE("",t.lcZ(12,8,"start")," ",10-t.lcZ(13,10,i.number$),""))},dependencies:[p.Ov,x.X$],styles:[".container[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;margin-left:auto;margin-right:auto;margin-top:120px}.intro[_ngcontent-%COMP%]{width:80vw;display:flex;flex-direction:column;align-items:center;justify-content:center;color:#4c6df0;font-size:30px;text-align:center}.start-button[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;font-size:20px;width:280px;padding:10px;margin-left:auto;margin-right:auto;color:#4c6df0;font-size:30px;margin-top:40px;cursor:pointer;opacity:.7}.start-button[_ngcontent-%COMP%]:hover{opacity:1;background-color:#cef;box-shadow:1px 1px 5px #646464;transition:.2s}.start-button[_ngcontent-%COMP%]:active{background-color:#fff}.title[_ngcontent-%COMP%]{font-size:128px;color:#fff;text-shadow:2px 2px 5px #4c6df0;margin-bottom:50px;cursor:pointer}.title[_ngcontent-%COMP%]:hover{text-shadow:2px 2px 5px #4c6df0,4px 4px 10px #f9f505}@media (max-width: 800px){.title[_ngcontent-%COMP%]{font-size:100px}}@media (max-width: 640px){.title[_ngcontent-%COMP%]{font-size:80px}}@media (max-width: 500px){.title[_ngcontent-%COMP%]{font-size:64px}}@media (max-width: 400px){.title[_ngcontent-%COMP%]{font-size:48px}}@media (max-width: 320px){.title[_ngcontent-%COMP%]{font-size:40px}}"]})}var z=s(2229);class v{constructor(n){this.storage=n,this.request$$=new C.X(this.storage.getItem(c.E9)),this.listRequests$$=new C.X(JSON.parse(this.storage.getItem(c.gY)||"[]")),this.coords$$=new C.X([void 0,void 0]),this.isChosen$$=new C.X(!1)}getRequest(){return this.request$$}getListRequests(){return this.listRequests$$}setListRequests(n){let e=JSON.parse(this.storage.getItem(c.gY)||"[]");e.includes(n)||e.push(n),e.length>10&&e.shift(),this.listRequests$$.next(e),this.storage.setItem(c.gY,JSON.stringify(e))}getIsChosen(){return this.isChosen$$}setIsChosen(n){this.isChosen$$.next(n)}getCoords(){return this.coords$$}setRequest(n){let e=n.trim();this.request$$.next(e.length>3?e:"")}setCoords(n,e){n&&e&&this.coords$$.next([n,e])}static#t=this.\u0275fac=function(e){return new(e||v)(t.LFG(w.V))};static#e=this.\u0275prov=t.Yz7({token:v,factory:v.\u0275fac,providedIn:"root"})}var N=s(1843),B=s(135),Q=s(6416),F=s(2635),V=s(1572),tt=s(9536);class k{constructor(n,e,i){this.colorService=n,this.windService=e,this.popupService=i,this.day=[]}getTime(n){return new Date(1e3*n).getHours().toString()+":00"}convertPressure(n){return(.750062*n).toFixed(0)}getIcon(n){return n||(n="01d"),c.Zj+n+c.wy}getColor(n){return this.colorService.getColorByTemp(n)}defineWind(n){return this.windService.getWind(n)}getMore(){this.popupService.setData(this.weather),this.popupService.setDay(this.day)}static#t=this.\u0275fac=function(e){return new(e||k)(t.Y36(N.x),t.Y36(Q.r),t.Y36(tt.q))};static#e=this.\u0275cmp=t.Xpm({type:k,selectors:[["app-forecast-card"]],inputs:{weather:"weather",day:"day"},decls:26,vars:18,consts:[[1,"forecast-container",3,"click"],[1,"inner-container"],[1,"header-container"],[1,"current-temp"],[1,"current-container"],[1,"wind-deg"],[1,"wind-definition"],[1,"clouds-container"],["alt","icon",1,"weather-image",3,"src"],[1,"temp"]],template:function(e,i){1&e&&(t.TgZ(0,"div",0),t.NdJ("click",function(){return i.getMore()}),t.TgZ(1,"div",1)(2,"div",2)(3,"p"),t._uU(4),t.qZA()(),t.TgZ(5,"div",3)(6,"div",4)(7,"p"),t._uU(8),t.ALo(9,"translate"),t.qZA(),t.TgZ(10,"p"),t._uU(11),t.qZA(),t.TgZ(12,"div",5)(13,"p"),t._uU(14),t.ALo(15,"translate"),t.qZA(),t.TgZ(16,"div"),t._uU(17," \u2193 "),t.qZA(),t.TgZ(18,"div",6),t._uU(19),t.qZA()()(),t.TgZ(20,"div",7),t._UZ(21,"img",8),t.TgZ(22,"p"),t._uU(23),t.qZA()(),t.TgZ(24,"p",9),t._uU(25),t.qZA()()()()),2&e&&(t.xp6(4),t.Oqu(i.getTime(null==i.weather?null:i.weather.dt)),t.xp6(4),t.AsE(" ",i.convertPressure((null==i.weather||null==i.weather.main?null:i.weather.main.grnd_level)||(null==i.weather||null==i.weather.main?null:i.weather.main.pressure))," ",t.lcZ(9,14,"mmHG")," "),t.xp6(3),t.hij(" ",null==i.weather||null==i.weather.main?null:i.weather.main.humidity," %"),t.xp6(3),t.AsE("",null==i.weather||null==i.weather.wind||null==i.weather.wind.speed?null:i.weather.wind.speed.toFixed(0)," ",t.lcZ(15,16,"m/s"),""),t.xp6(2),t.Akn("transform: rotate("+(null==i.weather||null==i.weather.wind?null:i.weather.wind.deg)+"deg)"),t.xp6(3),t.hij(" ",i.defineWind(null==i.weather||null==i.weather.wind?null:i.weather.wind.deg)," "),t.xp6(2),t.s9C("src",i.getIcon((null==i.weather?null:i.weather.weather)[0].icon),t.LSH),t.xp6(2),t.hij("",null==i.weather||null==i.weather.clouds?null:i.weather.clouds.all," %"),t.xp6(1),t.Akn("color:"+i.getColor(null==i.weather||null==i.weather.main?null:i.weather.main.temp)),t.xp6(1),t.hij(" ",null==i.weather||null==i.weather.main||null==i.weather.main.temp?null:i.weather.main.temp.toFixed(1)," \u2103 "))},dependencies:[x.X$],styles:["*[_ngcontent-%COMP%]{padding:0;margin:0}.forecast-container[_ngcontent-%COMP%]{position:relative;width:90px;height:200px;margin-top:15px;overflow:visible;background-color:#cef;box-shadow:1px 1px 2px #0486f180;border-radius:5px;color:#000;transition:.2s}.header-container[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:center;justify-content:center;width:120px}.inner-container[_ngcontent-%COMP%]{position:relative;font-size:14px;width:90px;height:200px;overflow:hidden;display:flex;align-items:center;justify-content:flex-start;flex-direction:column;gap:5px;background-color:#cef;opacity:.7;box-shadow:1px 1px 2px #0486f180;border-radius:5px;color:#000;transition:.2s;cursor:pointer}.inner-container[_ngcontent-%COMP%]:hover{opacity:1;background-color:#cef;box-shadow:1px 1px 5px #646464}.current-temp[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;width:90px;height:180px;background-color:#fff;box-shadow:1px 1px 2px #646464;border-radius:5px;margin-bottom:10px;gap:5px;flex-wrap:nowrap;transition:.2s}.current-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:space-around;gap:5px}.clouds-container[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:center;justify-content:center}.temp[_ngcontent-%COMP%]{font-size:24px}.weather-image[_ngcontent-%COMP%]{width:50px;height:50px}.wind[_ngcontent-%COMP%]{display:flex;gap:5px}.wind-deg[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;width:-moz-fit-content;width:fit-content;height:-moz-fit-content;height:fit-content;padding:3px;border:1px dashed #4c6df0;border-radius:2px;color:#4c6df0;margin-top:0;gap:5px;cursor:pointer}.wind-deg[_ngcontent-%COMP%]:hover{background-color:#fff;animation:_ngcontent-%COMP%_flash 0s}.visible[_ngcontent-%COMP%]{opacity:1;visibility:visible;display:block}@keyframes _ngcontent-%COMP%_flash{0%{background-color:transparent}50%{background-color:#fff}to{background-color:transparent}}"]})}var et=s(2945);function nt(r,n){if(1&r&&(t.TgZ(0,"div",17),t._uU(1),t.ALo(2,"translate"),t.ALo(3,"translate"),t.qZA()),2&r){const e=t.oxw().ngrxLet;t.xp6(1),t.lnq(" ",t.lcZ(2,3,"Gust"),": ",null==e||null==e.wind||null==e.wind.gust?null:e.wind.gust.toFixed(0)," ",t.lcZ(3,5,"m/s")," ")}}function it(r,n){if(1&r){const e=t.EpF();t.TgZ(0,"div",6),t.NdJ("mouseenter",function(){t.CHM(e);const o=t.oxw(2);return t.KtG(o.isMoreInfo=!0)})("mouseleave",function(){t.CHM(e);const o=t.oxw(2);return t.KtG(o.isMoreInfo=!1)}),t.ALo(1,"async"),t.TgZ(2,"p",7),t._uU(3),t.qZA(),t._UZ(4,"div",8),t.TgZ(5,"div",9)(6,"mat-icon"),t._uU(7,"wb_sunny"),t.qZA(),t._uU(8),t.TgZ(9,"mat-icon"),t._uU(10,"brightness_2"),t.qZA(),t._uU(11),t.qZA(),t.TgZ(12,"p"),t._uU(13),t.ALo(14,"translate"),t.qZA(),t.TgZ(15,"p",10),t._uU(16),t.ALo(17,"translate"),t.qZA(),t.TgZ(18,"div",11)(19,"p",12),t._uU(20),t.qZA(),t._UZ(21,"img",13),t.TgZ(22,"p",14),t.ALo(23,"async"),t._uU(24),t.qZA(),t.TgZ(25,"p",15),t._uU(26),t.ALo(27,"translate"),t.qZA()(),t.TgZ(28,"p",16),t._uU(29),t.ALo(30,"translate"),t.qZA(),t.TgZ(31,"p"),t._uU(32),t.ALo(33,"translate"),t.qZA(),t.TgZ(34,"p"),t._uU(35),t.ALo(36,"translate"),t.ALo(37,"translate"),t.qZA(),t.TgZ(38,"p"),t._uU(39),t.ALo(40,"translate"),t.qZA(),t.TgZ(41,"p"),t._uU(42),t.ALo(43,"translate"),t.qZA(),t.TgZ(44,"div",17),t._uU(45),t.ALo(46,"translate"),t.ALo(47,"translate"),t.TgZ(48,"div",18),t.NdJ("mouseenter",function(){t.CHM(e);const o=t.oxw(2);return t.KtG(o.isWindHovered=!0)})("mouseleave",function(){t.CHM(e);const o=t.oxw(2);return t.KtG(o.isWindHovered=!1)}),t.TgZ(49,"div"),t._uU(50," \u2193 "),t.qZA()(),t.TgZ(51,"div",19),t._uU(52),t.qZA()(),t.YNc(53,nt,4,7,"div",20),t.TgZ(54,"p"),t._uU(55),t.ALo(56,"translate"),t.ALo(57,"translate"),t.qZA(),t.TgZ(58,"p"),t._uU(59),t.ALo(60,"translate"),t.ALo(61,"translate"),t.ALo(62,"translate"),t.qZA()()}if(2&r){const e=n.ngrxLet,i=t.oxw().ngrxLet,o=t.oxw();t.ekj("container-appear",i&&t.lcZ(1,48,o.currentWeather$))("more",o.isMoreInfo),t.xp6(3),t.AsE("",null==e?null:e.name," , ",null==e||null==e.sys?null:e.sys.country,""),t.xp6(1),t.Akn(o.getFlagStyle(null==e||null==e.sys?null:e.sys.country)),t.xp6(4),t.hij("",o.getTime((null==e||null==e.sys?null:e.sys.sunrise)+(null==e?null:e.timezone))," "),t.xp6(3),t.hij("",o.getTime((null==e||null==e.sys?null:e.sys.sunset)+(null==e?null:e.timezone))," "),t.xp6(2),t.AsE(" ",t.lcZ(14,50,"Daylight hours"),": ",o.getTime((null==e||null==e.sys?null:e.sys.sunset)-(null==e||null==e.sys?null:e.sys.sunrise))," "),t.xp6(3),t.AsE(" ",t.lcZ(17,52,"Local time"),": ",o.getTime((null==e?null:e.dt)+(null==e?null:e.timezone))," "),t.xp6(4),t.Oqu(null==e||null==e.weather[0]?null:e.weather[0].description),t.xp6(1),t.s9C("src",o.getIcon(null==e||null==e.weather[0]?null:e.weather[0].icon),t.LSH),t.xp6(1),t.Akn("color:"+t.lcZ(23,54,o.tempColor$$)),t.xp6(2),t.hij(" ",null==e||null==e.main?null:e.main.temp.toFixed(1)," \u2103 "),t.xp6(2),t.AsE(" ",t.lcZ(27,56,"Feels like"),": ",null==e||null==e.main?null:e.main.feels_like.toFixed(1)," \u2103 "),t.xp6(3),t.hij("",t.lcZ(30,58,"more"),"..."),t.xp6(3),t.lnq(" ",t.lcZ(33,60,"min...max"),": ",null==e||null==e.main?null:e.main.temp_min.toFixed(1)," ... ",null==e||null==e.main?null:e.main.temp_max.toFixed(1)," \u2103 "),t.xp6(3),t.lnq(" ",t.lcZ(36,62,"Pressure"),": ",o.convertPressure((null==e||null==e.main?null:e.main.grnd_level)||(null==e||null==e.main?null:e.main.pressure))," ",t.lcZ(37,64,"mmHG")," "),t.xp6(4),t.AsE("",t.lcZ(40,66,"Humidity"),": ",null==e||null==e.main?null:e.main.humidity," %"),t.xp6(3),t.AsE("",t.lcZ(43,68,"Cloudness"),": ",null==e||null==e.clouds?null:e.clouds.all," %"),t.xp6(3),t.lnq(" ",t.lcZ(46,70,"Wind"),": ",null==e||null==e.wind||null==e.wind.speed?null:e.wind.speed.toFixed(0)," ",t.lcZ(47,72,"m/s")," "),t.xp6(4),t.Akn("transform: rotate("+(null==e||null==e.wind?null:e.wind.deg)+"deg)"),t.xp6(2),t.ekj("visible",o.isWindHovered),t.xp6(1),t.hij(" ",o.defineWind(null==e||null==e.wind?null:e.wind.deg)," "),t.xp6(1),t.Q6J("ngIf",(null==e||null==e.wind?null:e.wind.gust)&&(null==e||null==e.wind||null==e.wind.gust?null:e.wind.gust.toFixed(0))!==(null==e||null==e.wind||null==e.wind.speed?null:e.wind.speed.toFixed(0))),t.xp6(2),t.lnq(" ",t.lcZ(56,74,"Visibility"),": ",null==e?null:e.visibility," ",t.lcZ(57,76,"m")," "),t.xp6(4),t.HOy(" ",t.lcZ(60,78,"Precipitation")," ",t.lcZ(61,80,"1h"),": ",(null==e||null==e.snow?null:e.snow["1h"])||(null==e||null==e.rain?null:e.rain["1h"])||0," ",t.lcZ(62,82,"mm")," ")}}function ot(r,n){if(1&r&&t._UZ(0,"app-forecast-card",29,30),2&r){const e=n.$implicit,i=t.oxw().$implicit;t.Q6J("weather",e)("day",i)}}function rt(r,n){if(1&r&&(t.TgZ(0,"div",25)(1,"div",26)(2,"p"),t._uU(3),t.qZA()(),t.TgZ(4,"div",27),t.YNc(5,ot,2,2,"app-forecast-card",28),t.ALo(6,"chooseDate"),t.qZA()()),2&r){const e=n.$implicit,i=t.oxw(2).ngIf,o=t.oxw(2);t.xp6(2),t.ekj("red-note",o.checkWeekend(e[0])),t.xp6(1),t.HOy(" ",o.defineDay(e[1],e[2])," ",o.getDayOfWeek(e[0]),", ",o.getMonth(e[2]),", ",e[1]," "),t.xp6(2),t.Q6J("ngForOf",t.xi3(6,7,i.list,e[1]))}}function st(r,n){if(1&r&&(t.TgZ(0,"div",23),t.ALo(1,"async"),t.YNc(2,rt,7,10,"div",24),t.qZA()),2&r){const e=n.ngrxLet,i=t.oxw(2).ngrxLet,o=t.oxw();t.ekj("container-appear",i&&t.lcZ(1,3,o.forecast$)),t.xp6(2),t.Q6J("ngForOf",e)}}function at(r,n){if(1&r&&(t.TgZ(0,"div",21),t.YNc(1,st,3,5,"div",22),t.qZA()),2&r){const e=t.oxw(2);t.xp6(1),t.Q6J("ngrxLet",e.forecastDays$$)}}function ct(r,n){if(1&r&&(t.TgZ(0,"div",1)(1,"div",2),t.ALo(2,"async"),t.TgZ(3,"p"),t._uU(4),t.ALo(5,"translate"),t.qZA(),t._UZ(6,"mat-spinner",3),t.qZA(),t.YNc(7,it,63,84,"div",4),t.YNc(8,at,2,1,"div",5),t.ALo(9,"async"),t.qZA()),2&r){const e=n.ngrxLet,i=t.oxw();t.xp6(1),t.ekj("visible",e&&!t.lcZ(2,5,i.currentWeather$)),t.xp6(3),t.hij("",t.lcZ(5,7,"LOADING"),"..."),t.xp6(3),t.Q6J("ngrxLet",i.currentWeather$),t.xp6(1),t.Q6J("ngIf",e&&t.lcZ(9,9,i.forecast$))}}class U{constructor(n,e,i,o,l,h,W){this.route=n,this.http=e,this.storage=i,this.requestService=o,this.colorService=l,this.dateService=h,this.windService=W,this.forecastDays$$=this.dateService.emitDateArray(),this.isChosen$$=this.requestService.getIsChosen(),this.isMoreInfo=!1,this.tempColor$$=this.colorService.emitColor(),this.isWindHovered=!1}ngOnInit(){this.subscription=this.route.params.subscribe(n=>{if(this.lat=n.lat,this.lon=n.lon,this.lat&&this.lon){let e=this.storage.getItem(c.bn)||"en";this.lat&&this.lon&&(this.currentWeather$=this.http.getCurrentWeather(this.lat,this.lon,"metric",e),this.subscription4=this.currentWeather$.subscribe(i=>this.colorService.setTemp(i?.main?.temp)),this.forecast$=this.http.getForecast(this.lat,this.lon,"metric",e),this.subscription5=this.forecast$.subscribe(i=>{this.dateService.createDateArray(i.list)}))}})}convertPressure(n){return(.750062*n).toFixed(0)}getFlagStyle(n){return n?`background-image: url(assets/img/png/${n?.toLowerCase()}.png)`:""}getIcon(n){return n||(n="01d"),c.Zj+n+c.wy}getMonth(n){return this.dateService.getMonthByNumber(n)}getDayOfWeek(n){return this.dateService.getDayOfWeek(n)}checkWeekend(n){return 0===n||6===n}defineDay(n,e){return this.dateService.defineDay(n,e)}defineWind(n){return this.windService.getWind(n)}getTime(n){let e=new Date(1e3*(n-=10800)),i=e.getHours().toString();1===i.length&&(i="0"+i);let o=e.getMinutes().toString();return 1===o.length&&(o="0"+o),i+":"+o}ngOnDestroy(){this.subscription4?.unsubscribe(),this.subscription5?.unsubscribe()}static#t=this.\u0275fac=function(e){return new(e||U)(t.Y36(a.gz),t.Y36(z.O),t.Y36(w.V),t.Y36(v),t.Y36(N.x),t.Y36(B.R),t.Y36(Q.r))};static#e=this.\u0275cmp=t.Xpm({type:U,selectors:[["app-weather-forecast"]],decls:1,vars:1,consts:[["class","container1",4,"ngrxLet"],[1,"container1"],[1,"loading"],["diameter","30","color","primary"],["class","forecast-container",3,"container-appear","more","mouseenter","mouseleave",4,"ngrxLet"],["class","common-container",4,"ngIf"],[1,"forecast-container",3,"mouseenter","mouseleave"],[1,"place"],[1,"flag"],[1,"sun-time"],[1,"local-time"],[1,"current-temp"],[1,"description"],["alt","icon",1,"weather-image",3,"src"],[1,"temp"],[1,"feels-like"],[1,"view-more"],[1,"wind"],[1,"wind-deg",3,"mouseenter","mouseleave"],[1,"wind-definition"],["class","wind",4,"ngIf"],[1,"common-container"],["class","forecast-5days-container",3,"container-appear",4,"ngrxLet"],[1,"forecast-5days-container"],["class","day",4,"ngFor","ngForOf"],[1,"day"],[1,"day-container"],[1,"forecast-5days"],[3,"weather","day",4,"ngFor","ngForOf"],[3,"weather","day"],["forecastCard",""]],template:function(e,i){1&e&&t.YNc(0,ct,10,11,"div",0),2&e&&t.Q6J("ngrxLet",i.isChosen$$)},dependencies:[p.sg,p.O5,F.eJ,_.Hw,V.Ou,k,p.Ov,et.e,x.X$],styles:["*[_ngcontent-%COMP%]{margin:0;padding:0}.forecast-container[_ngcontent-%COMP%]{margin-left:auto;margin-right:auto;transform:scale(0);width:290px;height:320px;overflow:hidden;display:flex;align-items:center;justify-content:flex-start;flex-direction:column;gap:5px;padding:10px;background-color:#cceeffb3;box-shadow:1px 1px 2px #0486f180;border-radius:5px;color:#000;transition:.5s}.forecast-container[_ngcontent-%COMP%]:hover{opacity:1;background-color:#cef;box-shadow:1px 1px 5px #646464;transform:translateY(-5px);width:300px}.forecast-container[_ngcontent-%COMP%]:hover   .current-temp[_ngcontent-%COMP%]{box-shadow:1px 1px 5px #646464;transition:.2s}.more[_ngcontent-%COMP%]{height:520px}.sun-time[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;gap:10px}.local-time[_ngcontent-%COMP%], .view-more[_ngcontent-%COMP%]{color:#4c6df0;font-size:20px}.current-temp[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:space-evenly;width:200px;min-height:150px;background-color:#fff;box-shadow:1px 1px 2px #0486f180;border-radius:5px;margin-bottom:10px}.current-temp[_ngcontent-%COMP%]:hover{box-shadow:1px 1px 5px #646464;transition:.2s}.temp[_ngcontent-%COMP%]{font-size:24px}.feels-like[_ngcontent-%COMP%]{color:#999}.description[_ngcontent-%COMP%]{color:#000}.place[_ngcontent-%COMP%]{color:#4c6df0;font-size:24px}.flag[_ngcontent-%COMP%]{width:36px;min-height:24px;background-repeat:no-repeat;background-size:cover}.flag-small[_ngcontent-%COMP%]{width:22px;height:14px;background-repeat:no-repeat;background-size:cover}.loading[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;width:300px;margin-left:auto;margin-right:auto;margin-top:100px;opacity:0;visibility:hidden;transform:.1s}.weather-image[_ngcontent-%COMP%]{width:50px;height:50px}.common-container[_ngcontent-%COMP%]{margin-left:30px;margin-right:30px;margin-bottom:220px}.forecast-5days[_ngcontent-%COMP%]{position:relative;display:flex;flex-wrap:nowrap;margin-left:auto;margin-right:auto;max-width:800px;width:80vw;height:220px;padding:5px;overflow-X:scroll;overflow-y:visible;gap:5px;margin-bottom:30px}.forecast-5days-container[_ngcontent-%COMP%]{position:relative;display:flex;flex-direction:column;margin-left:auto;margin-right:auto;align-items:center;justify-content:center;margin-top:30px;gap:5px;transform:scale(0);transition:.5s}.wind[_ngcontent-%COMP%]{display:flex;gap:10px}.wind-deg[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_flash 3s infinite;display:flex;align-items:center;justify-content:center;width:16px;height:16px;padding:3px;border:1px dashed #4c6df0;border-radius:2px;color:#4c6df0;font-size:20px;margin-top:0;cursor:pointer}.wind-deg[_ngcontent-%COMP%]:hover{background-color:#fff;animation:_ngcontent-%COMP%_flash 0s}.wind-definition[_ngcontent-%COMP%]{opacity:0;visibility:hidden;transition:.5s}.red-note[_ngcontent-%COMP%]{color:red}.day-container[_ngcontent-%COMP%]{border:1px dashed #4c6df0;border-radius:5px;color:#4c6df0;padding:10px;background-color:#ffffffb3}.day[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;margin-top:20px;margin-bottom:20px;padding-left:10px}.day[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:20px}.visible[_ngcontent-%COMP%]{opacity:1;visibility:visible}.container-appear[_ngcontent-%COMP%]{transform:scale(1);min-height:240px}@keyframes _ngcontent-%COMP%_flash{0%{background-color:transparent}50%{background-color:#fff}to{background-color:transparent}}@media (max-width: 880px){.common-container[_ngcontent-%COMP%]{margin-left:100px;margin-right:100px}}@media (max-width: 640px){.day[_ngcontent-%COMP%] > p[_ngcontent-%COMP%]{font-size:16px}}"]})}var lt=s(8372);class O{constructor(n,e){this.http=n,this.requestService=e,this.places=(0,d.of)([])}findPlaces(){return this.places.pipe((0,g.w)(()=>this.requestService.getRequest()),(0,lt.b)(1e3),(0,g.w)(n=>n?(this.requestService.setListRequests(n),this.http.getPlaces(n)):(0,d.of)([])))}static#t=this.\u0275fac=function(e){return new(e||O)(t.LFG(z.O),t.LFG(v))};static#e=this.\u0275prov=t.Yz7({token:O,factory:O.\u0275fac,providedIn:"root"})}class b{constructor(n){this.storage=n,this.placesArray$$=new C.X([])}remember(n){let e=this.getLastPlaces();e.some(i=>i.name===n.name&&i.country===n.country&&i.state===n.state)||(e.push(n),e.length>10&&e.shift(),this.storage.setItem(c.I,JSON.stringify(e)),this.emitPlaces())}getLastPlaces(){return JSON.parse(this.storage.getItem(c.I)||"[]")}emitPlaces(){this.placesArray$$.next(this.getLastPlaces())}getSubject(){return this.emitPlaces(),this.placesArray$$}clearPlaces(){this.storage.setItem(c.I,JSON.stringify([])),this.emitPlaces()}delete(n){console.log("delete",n);let e=this.getLastPlaces();e=e.filter(i=>i.name!==n.name&&i.country!==n.country&&i.state!==n.state),this.storage.setItem(c.I,JSON.stringify(e)),this.emitPlaces()}static#t=this.\u0275fac=function(e){return new(e||b)(t.LFG(w.V))};static#e=this.\u0275prov=t.Yz7({token:b,factory:b.\u0275fac,providedIn:"root"})}var P=s(4006),D=s(1645);function pt(r,n){1&r&&(t.TgZ(0,"p",5),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&r&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"Last searching"),": "))}function ut(r,n){if(1&r){const e=t.EpF();t.TgZ(0,"button",6),t.NdJ("click",function(){t.CHM(e);const o=t.oxw(2);return t.KtG(o.clean())}),t._uU(1),t.ALo(2,"translate"),t.qZA()}2&r&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"Clean")," "))}function dt(r,n){if(1&r){const e=t.EpF();t.TgZ(0,"div",7)(1,"div",8),t._uU(2),t.qZA(),t.TgZ(3,"mat-menu",null,9)(5,"button",10),t.NdJ("click",function(){const l=t.CHM(e).$implicit,h=t.oxw(2);return t.KtG(h.callPlace(l))}),t.TgZ(6,"mat-icon"),t._uU(7,"arrow_back_ios"),t.qZA(),t._uU(8),t.ALo(9,"translate"),t.qZA(),t.TgZ(10,"button",10),t.NdJ("click",function(){const l=t.CHM(e).$implicit,h=t.oxw(2);return t.KtG(h.delete(l))}),t.TgZ(11,"mat-icon"),t._uU(12,"delete"),t.qZA(),t._uU(13),t.ALo(14,"translate"),t.qZA()(),t._UZ(15,"div",11),t.qZA()}if(2&r){const e=n.$implicit,i=t.MAs(4),o=t.oxw(2);t.Q6J("matMenuTriggerFor",i),t.xp6(2),t.lnq(" ",null==e?null:e.name,", ",null==e?null:e.country,", ",null==e?null:e.state," "),t.xp6(6),t.AsE("",t.lcZ(9,10,"Go to")," ",e.name," "),t.xp6(5),t.AsE(" ",t.lcZ(14,12,"Delete")," ",e.name," "),t.xp6(2),t.Akn(o.getFlagStyle(e.country))}}function gt(r,n){if(1&r&&(t.TgZ(0,"div",1),t.YNc(1,pt,3,3,"p",2),t.YNc(2,ut,3,3,"button",3),t.YNc(3,dt,16,14,"div",4),t.qZA()),2&r){const e=n.$implicit;t.xp6(1),t.Q6J("ngIf",e.length>0),t.xp6(1),t.Q6J("ngIf",e.length>0),t.xp6(1),t.Q6J("ngForOf",e)}}class S{constructor(n,e,i,o,l){this.rememberPlaces=n,this.requestService=e,this.storage=i,this.getCurrentPlaceService=o,this.router=l,this.places$$=this.rememberPlaces.getSubject()}callPlace(n){this.requestService.setRequest(n.name),this.requestService.setCoords(n.lat,n.lon),this.storage.setItem(c.GQ,JSON.stringify([n.lat,n.lon])),this.getCurrentPlaceService.setUsedCurrent(!1),window.scrollTo(0,0)}clean(){this.rememberPlaces.clearPlaces()}delete(n){this.rememberPlaces.delete(n)}getFlagStyle(n){return`background-image: url(assets/img/png/${n.toLowerCase()}.png)`}static#t=this.\u0275fac=function(e){return new(e||S)(t.Y36(b),t.Y36(v),t.Y36(w.V),t.Y36(y),t.Y36(a.F0))};static#e=this.\u0275cmp=t.Xpm({type:S,selectors:[["app-last-places"]],decls:1,vars:1,consts:[["class","places-container",4,"ngrxLet"],[1,"places-container"],["class","title",4,"ngIf"],["class","clean",3,"click",4,"ngIf"],["class","main-container",3,"matMenuTriggerFor",4,"ngFor","ngForOf"],[1,"title"],[1,"clean",3,"click"],[1,"main-container",3,"matMenuTriggerFor"],[1,"item-container"],["menu",""],["mat-menu-item","",1,"menu-button",3,"click"],[1,"flag"]],template:function(e,i){1&e&&t.YNc(0,gt,4,3,"div",0),2&e&&t.Q6J("ngrxLet",i.places$$)},dependencies:[p.sg,p.O5,F.eJ,D.VK,D.OP,D.p6,_.Hw,x.X$],styles:["*[_ngcontent-%COMP%]{padding:0;margin:0}.main-container[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-evenly;width:300px;background-color:#cceeffb3;box-shadow:1px 1px 2px #0486f1}.main-container[_ngcontent-%COMP%]:hover{opacity:1;box-shadow:1px 1px 5px #646464;background-color:#cef;transition:.2s}.places-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;width:300px;height:100%;overflow-y:auto;overflow-x:hidden;gap:10px;padding:10px;margin-bottom:100px;margin-left:auto;margin-right:auto}.item-container[_ngcontent-%COMP%]{cursor:pointer;display:flex;align-items:center;justify-content:center;width:280px;height:-moz-fit-content;height:fit-content;opacity:.7}.clean[_ngcontent-%COMP%]{width:100px;margin-bottom:20px;border:5px solid transparent;cursor:pointer;opacity:.7;background-color:transparent;color:#4c6df0}.clean[_ngcontent-%COMP%]:hover{opacity:1;background-color:#cef;box-shadow:1px 1px 5px #646464;transition:.2s}.clean[_ngcontent-%COMP%]:active{background-color:#fff}.disabled[_ngcontent-%COMP%]{cursor:auto;opacity:.7;background-color:#cceeff4d}.disabled[_ngcontent-%COMP%]:hover{opacity:.7;background-color:#cceeff4d;box-shadow:0 0 #646464}.delete[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;color:#0486f1;visibility:hidden;position:relative;width:20px;height:20px;border-radius:50%;left:0;top:0;transition:.1s;font-size:20px}.visible[_ngcontent-%COMP%]{visibility:visible;cursor:pointer}.visible[_ngcontent-%COMP%]:hover{background-color:#eee}.flag[_ngcontent-%COMP%]{width:22px;height:14px;background-repeat:no-repeat;background-size:cover}.title[_ngcontent-%COMP%]{color:#4c6df0;font-size:20px}.menu-button[_ngcontent-%COMP%]{padding:10px;color:#4c6df0;font-size:20px}"]})}function ht(r,n){if(1&r&&(t.TgZ(0,"option"),t._uU(1),t.qZA()),2&r){const e=n.$implicit;t.xp6(1),t.hij(" ",e," ")}}function mt(r,n){1&r&&(t.TgZ(0,"mat-icon"),t._uU(1,"location_on"),t.qZA())}function ft(r,n){1&r&&(t.TgZ(0,"mat-icon"),t._uU(1,"location_off"),t.qZA())}function xt(r,n){if(1&r&&(t.TgZ(0,"div",23)(1,"p"),t._uU(2),t.ALo(3,"translate"),t.ALo(4,"translate"),t.qZA(),t.TgZ(5,"p"),t._uU(6),t.ALo(7,"translate"),t.ALo(8,"translate"),t.qZA()()),2&r){const e=t.oxw(3);t.xp6(2),t.AsE("",t.lcZ(3,4,"latitude"),": ",t.lcZ(4,6,e.define(e.lat)),"\xb0"),t.xp6(4),t.AsE("",t.lcZ(7,8,"longitude"),": ",t.lcZ(8,10,e.define(e.lon)),"\xb0")}}const _t=function(r,n){return[r,n]},vt=function(r,n,e){return["../pollution",r,n,e]};function Ct(r,n){if(1&r&&(t.TgZ(0,"p",24),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&r){const e=t.oxw().ngrxLet,i=t.oxw(2);t.Q6J("routerLink",t.kEZ(7,vt,i.lat,i.lon,t.WLB(4,_t,null==e?null:e.name,null==e||null==e.sys?null:e.sys.country).join(", "))),t.xp6(1),t.hij(" ",t.lcZ(2,2,"Air quality in this location"),"... ")}}function yt(r,n){if(1&r){const e=t.EpF();t.TgZ(0,"div",27),t.NdJ("click",function(){const l=t.CHM(e).$implicit,h=t.oxw(4);return h.getCurrentWeather(l.lat,l.lon),h.rememberCoords(l.lat,l.lon),t.KtG(h.rememberPlace(l))}),t.TgZ(1,"span"),t._uU(2),t.qZA(),t.TgZ(3,"span"),t._uU(4," , "),t.qZA(),t.TgZ(5,"span"),t._uU(6),t.qZA(),t.TgZ(7,"span"),t._uU(8," , "),t.qZA(),t.TgZ(9,"span"),t._uU(10),t.qZA(),t._UZ(11,"div",28),t.qZA()}if(2&r){const e=n.$implicit,i=t.oxw(4);t.xp6(2),t.Oqu(e.name),t.xp6(4),t.Oqu(e.country),t.xp6(4),t.Oqu(e.state),t.xp6(1),t.Akn(i.getFlagStyle(e.country))}}function wt(r,n){if(1&r&&(t.TgZ(0,"div",25),t.YNc(1,yt,12,5,"div",26),t.ALo(2,"async"),t.qZA()),2&r){const e=t.oxw(3);t.xp6(1),t.Q6J("ngForOf",t.lcZ(2,1,e.places$))}}function bt(r,n){if(1&r){const e=t.EpF();t.TgZ(0,"div",29),t.NdJ("click",function(){t.CHM(e);const o=t.oxw(3);return t.KtG(o.scrollDown())}),t._UZ(1,"div",30),t.TgZ(2,"p",31),t._uU(3),t.ALo(4,"async"),t.qZA()()}if(2&r){const e=t.oxw(3);t.Akn(e.currentPositionStyle),t.xp6(3),t.hij("",t.lcZ(4,3,e.currentWeather$).main.temp.toFixed(1),"\u2103")}}function Pt(r,n){if(1&r){const e=t.EpF();t.TgZ(0,"div",3)(1,"div",4)(2,"mat-icon",5),t._uU(3,"search"),t.qZA(),t.TgZ(4,"input",6),t.NdJ("ngModelChange",function(o){t.CHM(e);const l=t.oxw(2);return t.KtG(l.searchRequest=o)})("ngModelChange",function(){t.CHM(e);const o=t.oxw(2);return o.rememberSearch(),t.KtG(o.findPlaces())}),t.ALo(5,"translate"),t.qZA(),t.TgZ(6,"datalist",7),t.YNc(7,ht,2,1,"option",8),t.ALo(8,"async"),t.qZA(),t.TgZ(9,"div",9)(10,"div",10)(11,"input",11),t.NdJ("ngModelChange",function(o){t.CHM(e);const l=t.oxw(2);return t.KtG(l.isUseCurrentPosition=o)})("ngModelChange",function(){t.CHM(e);const o=t.oxw(2);return t.KtG(o.changeSearch())}),t.qZA(),t.TgZ(12,"label",12),t._uU(13),t.ALo(14,"translate"),t.qZA(),t.YNc(15,mt,2,0,"mat-icon",13),t.YNc(16,ft,2,0,"mat-icon",13),t.qZA(),t.YNc(17,xt,9,12,"div",14),t.qZA()(),t.YNc(18,Ct,3,11,"p",15),t.YNc(19,wt,3,3,"div",16),t.TgZ(20,"div",17),t._UZ(21,"iframe",18),t.YNc(22,bt,5,5,"div",19),t.qZA(),t._UZ(23,"router-outlet"),t.TgZ(24,"div",20),t._UZ(25,"iframe",21),t.qZA(),t._UZ(26,"app-last-places",22),t.qZA()}if(2&r){const e=t.oxw().ngrxLet,i=t.oxw();t.xp6(4),t.Q6J("placeholder",t.lcZ(5,12,"search place"))("ngModel",i.searchRequest),t.xp6(3),t.Q6J("ngForOf",t.lcZ(8,14,i.listRequests$$)),t.xp6(4),t.Q6J("ngModel",i.isUseCurrentPosition),t.xp6(2),t.Oqu(t.lcZ(14,16,"Use your current position")),t.xp6(2),t.Q6J("ngIf",i.isUseCurrentPosition),t.xp6(1),t.Q6J("ngIf",!i.isUseCurrentPosition),t.xp6(1),t.Q6J("ngIf",i.isUseCurrentPosition),t.xp6(1),t.Q6J("ngIf",e),t.xp6(1),t.Q6J("ngIf",0==e),t.xp6(3),t.Q6J("ngIf",i.isFrameLoaded),t.xp6(3),t.Q6J("loading","lazy")}}function Zt(r,n){if(1&r&&(t.TgZ(0,"div",1),t.YNc(1,Pt,27,18,"div",2),t.qZA()),2&r){const e=t.oxw();t.xp6(1),t.Q6J("ngrxLet",e.currentWeather$)}}class M{constructor(n,e,i,o,l,h,W,$t){this.storage=n,this.searchService=e,this.requestService=i,this.http=o,this.rememberPlaces=l,this.getCurrentPlace=h,this.colorService=W,this.router=$t,this.isMoreInfo=!1,this.searchRequest="",this.places$=this.searchService.findPlaces(),this.isChosen$$=this.requestService.getIsChosen(),this.listRequests$$=this.requestService.getListRequests(),this.isUseCurrentPosition=!0,this.isFrameLoaded=!1,this.currentPositionStyle="",this.tempColor$$=this.colorService.emitColor()}ngOnInit(){this.init(),window.onresize=()=>this.calculateCurrentPositionStyle()}rememberSearch(){this.searchRequest&&this.storage.setItem(c.E9,this.searchRequest)}findPlaces(){this.requestService.setIsChosen(!1),this.requestService.setRequest(this.searchRequest),this.isUseCurrentPosition=!1}getCurrentWeather(n,e){this.isFrameLoaded=!1,setTimeout(()=>this.loadFrame(n,e),1e3),this.requestService.setIsChosen(!0),this.router.navigate(["forecast",n,e]),n&&e&&(0!==n||0!==e)&&(this.currentWeather$=this.http.getCurrentWeather(n,e),this.isUseCurrentPosition||this.storage.setItem(c.GQ,JSON.stringify([n,e])))}rememberPlace(n){this.rememberPlaces.remember(n)}rememberCoords(n,e){this.lat=n,this.lon=e,this.requestService.setCoords(n,e),this.storage.setItem(c.GQ,JSON.stringify([n,e]))}getFlagStyle(n){return n?`background-image: url(assets/img/png/${n?.toLowerCase()}.png)`:""}changeSearch(){this.getCurrentPlace.setUsedCurrent(this.isUseCurrentPosition),this.isUseCurrentPosition?(this.setCurrentPlaceCoords(),this.useCurrentLocation(),this.searchRequest=""):(this.useCoords(),this.useRequest())}useCurrentLocation(){!0===this.isUseCurrentPosition&&0!==this.lat&&0!==this.lon?this.getCurrentWeather(this.lat,this.lon):setTimeout(()=>this.init(),1e3)}useCoords(){this.subscription3=this.requestService.getCoords().subscribe(n=>{(n[0]||n[1])&&(this.getCurrentWeather(...n),this.isUseCurrentPosition||([this.lat,this.lon]=n),this.requestService.setIsChosen(!0))})}useRequest(){this.subscription1=this.requestService.getRequest().subscribe(n=>{this.searchRequest=n,this.rememberSearch()})}setCurrentPlaceCoords(){this.subscription7=this.getCurrentPlace.getCoords().subscribe(n=>{this.lat=n.lat,this.lon=n.lon})}define(n){return 0!==n?n?.toString():"isn't defined"}ngOnDestroy(){this.subscription1?.unsubscribe(),this.subscription2?.unsubscribe(),this.subscription3?.unsubscribe(),this.subscription4?.unsubscribe(),this.subscription5?.unsubscribe(),this.subscription6?.unsubscribe(),this.subscription7?.unsubscribe(),this.subscription8?.unsubscribe()}loadFrame(n,e){let i=document.querySelector(".iframe"),o=document.querySelector(".google-iframe");o.onload=()=>{this.isFrameLoaded=!0,this.calculateCurrentPositionStyle()},o.onerror=()=>this.isFrameLoaded=!1,i.src=`https://openweathermap.org/weathermap?basemap=map&cities=true&layer=radar&lat=${n}&lon=${e}&zoom=6`,o.src=`https://www.google.com/maps/embed?pb=!1m10!1m8!1m3!1d100000!2d${e}!3d${n}!3m2!1i1024!2i768!4f13.1!5e1!3m2!1sru!2sby!4v1674040894710!5m2!1sru!2sby`}init(){this.subscription8=this.getCurrentPlace.getUsedCurrent().subscribe(n=>{this.isUseCurrentPosition=n,this.requestService.setIsChosen(!0),this.searchRequest=this.storage.getItem(c.E9)||"",this.requestService.setCoords(...JSON.parse(this.storage.getItem(c.GQ)||"[]")),this.isUseCurrentPosition?(this.setCurrentPlaceCoords(),this.useCurrentLocation(),this.searchRequest=""):(this.useCoords(),this.useRequest())})}calculateCurrentPositionStyle(){let e=document.querySelector(".google-iframe").getBoundingClientRect();this.currentPositionStyle=`top: ${e.y+e.height/2-25}px; left: ${e.x+e.width/2-25}px;`}scrollDown(){const n=document.querySelector(".container1");if(n){let e=n.getBoundingClientRect().y;window.scrollBy(0,e-50)}}static#t=this.\u0275fac=function(e){return new(e||M)(t.Y36(w.V),t.Y36(O),t.Y36(v),t.Y36(z.O),t.Y36(b),t.Y36(y),t.Y36(N.x),t.Y36(a.F0))};static#e=this.\u0275cmp=t.Xpm({type:M,selectors:[["app-main"]],decls:1,vars:1,consts:[["class","main-container",4,"ngrxLet"],[1,"main-container"],["class","inner-container",4,"ngrxLet"],[1,"inner-container"],[1,"input-container"],[1,"icon-search"],["list","listRequests","type","search","autofocus","",1,"input-search",3,"placeholder","ngModel","ngModelChange"],["id","listRequests"],[4,"ngFor","ngForOf"],[1,"current-place-container"],[1,"radio-container"],["type","checkbox","id","radio-button",3,"ngModel","ngModelChange"],["for","radio-button"],[4,"ngIf"],["class","coords",4,"ngIf"],["class","link-pollution",3,"routerLink",4,"ngIf"],["class","places-container",4,"ngIf"],[1,"google-iframe-container"],["src","","loading","lazy","referrerpolicy","no-referrer-when-downgrade",1,"google-iframe",2,"border","0"],["class","current-position",3,"style","click",4,"ngIf"],[1,"iframe-container"],["src","",1,"iframe",3,"loading"],[1,"last-places"],[1,"coords"],[1,"link-pollution",3,"routerLink"],[1,"places-container"],["class","place-item",3,"click",4,"ngFor","ngForOf"],[1,"place-item",3,"click"],[1,"flag-small"],[1,"current-position",3,"click"],[1,"current-position-background"],[1,"frame-temp"]],template:function(e,i){1&e&&t.YNc(0,Zt,2,1,"div",0),2&e&&t.Q6J("ngrxLet",i.isChosen$$)},dependencies:[p.sg,p.O5,a.lC,a.rH,P.YN,P.Kr,P.Fj,P.Wl,P.JJ,P.On,F.eJ,_.Hw,S,p.Ov,x.X$],styles:["*[_ngcontent-%COMP%]{margin:0;padding:0}input[_ngcontent-%COMP%], input[_ngcontent-%COMP%]:focus{outline:0;border:transparent;font-size:16px;padding-left:30px}.main-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:center;align-items:center}.input-container[_ngcontent-%COMP%]{width:100%;display:flex;flex-direction:column;justify-content:center;align-items:center;padding-top:20px;gap:20px}.icon-search[_ngcontent-%COMP%]{position:relative;top:45px;left:-105px;color:#4c6df0;font-size:18px}.radio-container[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;gap:10px}.radio-container[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{color:#4c6df0;font-size:20px;cursor:pointer}.current-place-container[_ngcontent-%COMP%]{padding:10px;border:1px dashed #4c6df0;border-radius:5px;cursor:pointer}.current-place-container[_ngcontent-%COMP%]:hover{opacity:1;background-color:#cef;box-shadow:1px 1px 5px #646464}.coords[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;color:#4c6df0;font-size:20px}.places-container[_ngcontent-%COMP%]{width:100%;display:flex;align-items:center;justify-content:center;flex-direction:column;gap:20px;padding-top:50px;transition:.5s}.more[_ngcontent-%COMP%]{height:390px}.place-item[_ngcontent-%COMP%]{cursor:pointer;display:flex;align-items:center;justify-content:space-evenly;width:300px;min-width:50px;height:-moz-fit-content;height:fit-content;opacity:.7;background-color:#cceeffb3;box-shadow:1px 1px 2px #0486f1}.place-item[_ngcontent-%COMP%]:hover{opacity:1;background-color:#cef;box-shadow:1px 1px 5px #646464;transition:.2s}.last-places[_ngcontent-%COMP%]{position:absolute;top:100px;left:10px;margin-left:auto;margin-right:auto;padding-bottom:100px}.current-temp[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:space-evenly;width:200px;min-height:150px;background-color:#fff;box-shadow:1px 1px 2px #0486f180;border-radius:5px;margin-bottom:10px}.current-temp[_ngcontent-%COMP%]:hover{box-shadow:1px 1px 5px #646464;transition:.2s}.temp[_ngcontent-%COMP%]{font-size:24px}.feels-like[_ngcontent-%COMP%]{color:#999}.description[_ngcontent-%COMP%]{color:#000}.place[_ngcontent-%COMP%]{color:#4c6df0;font-size:24px}.flag[_ngcontent-%COMP%]{width:36px;min-height:24px;background-repeat:no-repeat;background-size:cover}.flag-small[_ngcontent-%COMP%]{width:22px;height:14px;background-repeat:no-repeat;background-size:cover}.loading[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;width:300px;margin-left:auto;margin-right:auto;margin-top:50px;opacity:0;visibility:hidden;transform:.1s}.visible[_ngcontent-%COMP%]{opacity:1;visibility:visible}.weather-image[_ngcontent-%COMP%]{width:50px;height:50px}.common-container[_ngcontent-%COMP%]{margin-left:130px;margin-right:130px}.forecast-5days[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;margin-left:auto;margin-right:auto;width:-moz-fit-content;width:fit-content;gap:5px;margin-bottom:30px}.forecast-5days-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;margin-left:auto;margin-right:auto;align-items:center;justify-content:center;margin-top:30px;width:-moz-fit-content;width:fit-content;gap:5px}.wind[_ngcontent-%COMP%]{display:flex;gap:10px}.red-note[_ngcontent-%COMP%]{color:red}.day[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;margin-top:20px;margin-bottom:20px;padding-left:10px}.day[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:20px}.link-pollution[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;font-size:20px;width:280px;padding:10px;margin-left:auto;margin-right:auto;color:#4c6df0;margin-top:40px;cursor:pointer;opacity:.7}.link-pollution[_ngcontent-%COMP%]:hover{opacity:1;background-color:#cef;box-shadow:1px 1px 5px #646464;transition:.2s}.link-pollution[_ngcontent-%COMP%]:active{background-color:#fff}.inner-container[_ngcontent-%COMP%]{max-width:100vw}@media (max-width: 1200px){.last-places[_ngcontent-%COMP%]{position:static;margin:100px}}.iframe-container[_ngcontent-%COMP%]{width:70vw;height:60vh;min-width:300px;min-height:240px;margin-left:auto;margin-right:auto;margin-bottom:50px;border:1px solid #eee}.iframe[_ngcontent-%COMP%]{width:70vw;height:60vh;min-width:300px;min-height:240px;position:relative;top:0;left:0}.google-iframe-container[_ngcontent-%COMP%]{width:45vw;min-width:300px;min-height:240px;height:40vh;margin-left:auto;margin-right:auto;margin-top:50px;border:2px dotted yellow}.google-iframe[_ngcontent-%COMP%]{width:45vw;min-width:300px;min-height:240px;height:40vh;position:relative;top:0;left:0}.current-position[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;position:absolute;width:50px;height:50px;border-radius:50%}.current-position[_ngcontent-%COMP%]:hover   .frame-temp[_ngcontent-%COMP%]{font-size:72px;transform:translateY(-80px)}.current-position-background[_ngcontent-%COMP%]{position:absolute;width:50px;height:50px;background-color:#dc143c;border:4px dotted yellow;opacity:.7;border-radius:50%}.current-position-background[_ngcontent-%COMP%]:hover{opacity:.3}.current-position-background[_ngcontent-%COMP%]:hover   .frame-temp[_ngcontent-%COMP%]{font-size:72px;transform:translateY(-80px)}.frame-temp[_ngcontent-%COMP%]{position:relative;color:#fff;text-shadow:2px 2px 5px #4c6df0;font-size:18px;font-style:oblique;transition:.2s;z-index:10}"]})}const Mt=[{path:"",component:M,canActivate:[m.O]},{path:"",component:M,children:[{path:"forecast/:lat/:lon",component:U,canActivate:[m.O]}],canActivate:[m.O]},{path:"start",component:q},{path:"about",component:T},{path:"access_denied",component:$},{path:"**",component:L,canActivate:[m.O]}];class I{static#t=this.\u0275fac=function(e){return new(e||I)};static#e=this.\u0275mod=t.oAB({type:I});static#n=this.\u0275inj=t.cJS({providers:[m.O],imports:[a.Bz.forChild(Mt),a.Bz]})}var At=s(294),Tt=s(4466),H=s(3466);class j{static#t=this.\u0275fac=function(e){return new(e||j)};static#e=this.\u0275mod=t.oAB({type:j});static#n=this.\u0275inj=t.cJS({imports:[p.ez,I,At.I,Tt.m,F._N,x.aw,H.q,H.q]})}},2945:(J,f,s)=>{s.d(f,{e:()=>a});var p=s(4650);class a{transform(g,d){return g.filter(u=>new Date(1e3*u.dt).getDate()===d)}static#t=this.\u0275fac=function(d){return new(d||a)};static#e=this.\u0275pipe=p.Yjl({name:"chooseDate",type:a,pure:!0})}},3290:(J,f,s)=>{s.r(f),s.d(f,{MyClass:()=>p});class p{constructor(){}checkFD(){return"FaceDetector"in window?(alert("FaceDetector is supported"),!0):(alert("FaceDetector is not supported"),!1)}detect(m){try{return new FaceDetector({fastMode:!1,maxDetectedFaces:10}).detect(m)}catch(g){console.error("Face Detection failed, boo.",g)}}}}}]);