"use strict";(self.webpackChunkweather_forecast=self.webpackChunkweather_forecast||[]).push([[377],{6377:(y,g,o)=>{o.r(g),o.d(g,{PollutionModule:()=>r});var p=o(6895),c=o(6573),t=o(8274),m=o(2229);class e{constructor(){this.descriptions=["Excellent","Good","Lightly Polluted","Moderately Polluted ","Heavily Polluted"],this.colors=["#0f0","#0a0","#ff0","#fc0","#f00"]}getPollutionDescription(l){return this.descriptions[l-1]}getPollutionColor(l){return this.colors[l-1]}static#t=this.\u0275fac=function(n){return new(n||e)};static#n=this.\u0275prov=t.Yz7({token:e,factory:e.\u0275fac,providedIn:"root"})}var x=o(2126),d=o(9066);function h(s,l){if(1&s&&(t.TgZ(0,"div",7)(1,"p",8),t._uU(2),t.ALo(3,"translate"),t.ALo(4,"translate"),t.qZA(),t.TgZ(5,"p",9),t._uU(6),t.ALo(7,"translate"),t.qZA(),t.TgZ(8,"p"),t._uU(9),t.ALo(10,"translate"),t.qZA(),t.TgZ(11,"p"),t._uU(12),t.ALo(13,"translate"),t.qZA(),t.TgZ(14,"p"),t._uU(15),t.ALo(16,"translate"),t.qZA(),t.TgZ(17,"p"),t._uU(18),t.ALo(19,"translate"),t.qZA(),t.TgZ(20,"p"),t._uU(21),t.ALo(22,"translate"),t.qZA(),t.TgZ(23,"p"),t._uU(24),t.ALo(25,"translate"),t.qZA(),t.TgZ(26,"p"),t._uU(27),t.ALo(28,"translate"),t.qZA(),t.TgZ(29,"p"),t._uU(30),t.ALo(31,"translate"),t.qZA()()),2&s){const n=t.oxw().ngrxLet,i=t.oxw();t.xp6(1),t.Akn(i.getStyle(null==n||null==n.list[0]||null==n.list[0].main?null:n.list[0].main.aqi)),t.xp6(1),t.lnq(" ",t.lcZ(3,22,"Air quality index"),": ",null==n||null==n.list[0]||null==n.list[0].main?null:n.list[0].main.aqi," (",t.lcZ(4,24,i.getDescription(null==n||null==n.list[0]||null==n.list[0].main?null:n.list[0].main.aqi)),") "),t.xp6(4),t.hij(" ",t.lcZ(7,26,"Pollution concentration"),": "),t.xp6(3),t.AsE(" CO: ",null==n||null==n.list[0]||null==n.list[0].components?null:n.list[0].components.co," ",t.lcZ(10,28,"\u03bcg/m3")," "),t.xp6(3),t.AsE(" NO: ",null==n||null==n.list[0]||null==n.list[0].components?null:n.list[0].components.no," ",t.lcZ(13,30,"\u03bcg/m3")," "),t.xp6(3),t.AsE(" NO2: ",null==n||null==n.list[0]||null==n.list[0].components?null:n.list[0].components.no2," ",t.lcZ(16,32,"\u03bcg/m3")," "),t.xp6(3),t.AsE(" O3: ",null==n||null==n.list[0]||null==n.list[0].components?null:n.list[0].components.o3," ",t.lcZ(19,34,"\u03bcg/m3")," "),t.xp6(3),t.AsE(" SO2: ",null==n||null==n.list[0]||null==n.list[0].components?null:n.list[0].components.so2," ",t.lcZ(22,36,"\u03bcg/m3")," "),t.xp6(3),t.AsE(" PM2_5: ",null==n||null==n.list[0]||null==n.list[0].components?null:n.list[0].components.pm2_5," ",t.lcZ(25,38,"\u03bcg/m3")," "),t.xp6(3),t.AsE(" PM10: ",null==n||null==n.list[0]||null==n.list[0].components?null:n.list[0].components.pm10," ",t.lcZ(28,40,"\u03bcg/m3")," "),t.xp6(3),t.AsE(" NH3: ",null==n||null==n.list[0]||null==n.list[0].components?null:n.list[0].components.nh3," ",t.lcZ(31,42,"\u03bcg/m3")," ")}}const f=function(){return["../../../../"]};function Z(s,l){if(1&s&&(t.TgZ(0,"div",1)(1,"div",2),t.ALo(2,"async"),t.TgZ(3,"p"),t._uU(4),t.ALo(5,"translate"),t.qZA()(),t.TgZ(6,"p",3),t._uU(7),t.qZA(),t.TgZ(8,"div",4),t.YNc(9,h,32,44,"div",5),t.ALo(10,"async"),t.qZA(),t.TgZ(11,"p",6),t._uU(12),t.ALo(13,"translate"),t.qZA()()),2&s){const n=t.oxw();t.xp6(1),t.ekj("visible",!t.lcZ(2,7,n.pollution$)),t.xp6(3),t.hij("",t.lcZ(5,9,"LOADING"),"..."),t.xp6(3),t.Oqu(n.place),t.xp6(2),t.Q6J("ngIf",t.lcZ(10,11,n.pollution$)),t.xp6(2),t.Q6J("routerLink",t.DdM(15,f)),t.xp6(1),t.hij(" ",t.lcZ(13,13,"Back to weather forecast")," ")}}class u{constructor(l,n,i){this.route=l,this.http=n,this.pollutionService=i,this.place=""}ngOnInit(){this.subscription=this.route.params.subscribe(l=>{this.lat=l.lat,this.lon=l.lon,this.place=l.place}),this.pollution$=this.http.getCurrentPollution(this.lat,this.lon)}getDescription(l){return this.pollutionService.getPollutionDescription(l)}getStyle(l){return`background-color: ${this.pollutionService.getPollutionColor(l)}`}ngOnDestroy(){this.subscription?.unsubscribe()}static#t=this.\u0275fac=function(n){return new(n||u)(t.Y36(c.gz),t.Y36(m.O),t.Y36(e))};static#n=this.\u0275cmp=t.Xpm({type:u,selectors:[["app-pollution"]],decls:1,vars:1,consts:[["class","main-container",4,"ngrxLet"],[1,"main-container"],[1,"loading"],[1,"place"],[1,"pollution-container"],["class","inner-container",4,"ngIf"],[1,"go-back",3,"routerLink"],[1,"inner-container"],[1,"pollution-index"],[1,"pollution-concentration"]],template:function(n,i){1&n&&t.YNc(0,Z,14,16,"div",0),2&n&&t.Q6J("ngrxLet",i.pollution$)},dependencies:[p.O5,c.rH,x.eJ,p.Ov,d.X$],styles:[".pollution-container[_ngcontent-%COMP%]{margin-left:auto;margin-right:auto;width:300px;height:-moz-fit-content;height:fit-content;overflow:hidden;display:flex;align-items:center;justify-content:center;flex-direction:column;gap:5px;padding:10px;margin-top:50px;background-color:#cceeffb3;box-shadow:1px 1px 2px #0486f180;border-radius:5px;color:#000;transition:.5s}.pollution-container[_ngcontent-%COMP%]:hover{opacity:1;background-color:#cef;box-shadow:1px 1px 5px #646464}.loading[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;width:300px;margin-left:auto;margin-right:auto;margin-top:100px;opacity:0;visibility:hidden;transform:.1s}.visible[_ngcontent-%COMP%]{opacity:1;visibility:visible}.go-back[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;margin:20px auto 100px;width:280px;padding:10px;cursor:pointer;opacity:.7;color:#4c6df0}.go-back[_ngcontent-%COMP%]:hover{opacity:1;background-color:#cef;box-shadow:1px 1px 5px #646464;transition:.2s}.go-back[_ngcontent-%COMP%]:active{background-color:#fff}.place[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;margin:20px auto;width:280px;font-size:24px;color:#4c6df0}.pollution-index[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;padding:5px;width:290px;height:30px;color:#fff;font-size:18px}.pollution-concentration[_ngcontent-%COMP%]{font-size:20px;color:#4c6df0}"]})}const A=[{path:"",component:u}];class a{static#t=this.\u0275fac=function(n){return new(n||a)};static#n=this.\u0275mod=t.oAB({type:a});static#l=this.\u0275inj=t.cJS({imports:[c.Bz.forChild(A),c.Bz]})}class r{static#t=this.\u0275fac=function(n){return new(n||r)};static#n=this.\u0275mod=t.oAB({type:r});static#l=this.\u0275inj=t.cJS({imports:[p.ez,a,x._N,d.aw]})}}}]);